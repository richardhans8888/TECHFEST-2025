<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Register</title>
    <link rel="stylesheet" href="template.css" />
    <link rel="stylesheet" href="register.css" />
    <title>Register</title>
</head>
<body>
    <!-- navbar -->
    <div class="navbar">
        <a class="nav-icon" href="/index.html"></a>
        <a class="nav-link" href="/techtalk.html">TechTalk</a>
        <a class="nav-link" href="/competition.html">Competition</a>
        <a class="nav-link" href="/showcase.html">Showcase</a>
        <div class="hamburger" id="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <div id="nav-menu" class="nav-menu">
            <a class="nav-link" href="/techtalk.html">TechTalk</a>
            <a class="nav-link" href="/competition.html">Competition</a>
            <a class="nav-link" href="/showcase.html">Showcase</a>
        </div>
    </div>

        <!-- HERO, pake semua kecuali home page -->
     <div class="bighero">
        <!-- elemen -->
        <div class="spinning-cogs">
          <img class="large-cog" src="/Assets/Pics/large-cog.svg" alt="">
          <img class="small-cog small-cog-1" src="/Assets/Pics/small-cog-1.svg" alt="">
          <img class="small-cog small-cog-2" src="/Assets/Pics/small-cog-2.svg" alt="">
          <img class="small-cog small-cog-3" src="/Assets/Pics/small-cog-3.svg" alt="">
        </div>
        <img class="right-cloud" src="/Assets/Pics/right-cloud.svg" alt="">            
        <img class="left-cloud" src="/Assets/Pics/left-cloud.svg" alt="">
        <img class="birdie" src="/Assets/Pics/birdie.svg" alt="">
        <div class="hero-section">
            <!-- judul -->
            <h1>Competition <br> Registration</h1>
        </div>
     </div>

        <div class="form-container">
            <form autocomplete="off" id="registration-form" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSeqSBIO1O-BAp-DfHeXtgb0y-QA_dQKA6eVaDDUOmk3wEAY3A/formResponse" method="POST" target="hidden_iframe">
                <div class="toggle-buttons">
                    <div class="radio-option">
                        <input type="radio" id="binusian" name="entry.585748637" value="Binusian" checked>
                        <label for="binusian" class="toggle-btn active" id="binusian-btn">Binusian</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="non-binusian" name="entry.585748637" value="Non-Binusian">
                        <label for="non-binusian" class="toggle-btn" id="non-binusian-btn">Non-Binusian</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="nama">Nama Lengkap</label>
                    <input type="text" id="nama" name="entry.1081146659" placeholder="Nama Lengkap" required>
                </div>

                <div class="form-group">
                    <label for="nim">Nomor Induk Mahasiswa (NIM)</label>
                    <input type="text" id="nim" name="entry.915575311" placeholder="NIM" required>
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="entry.215298822" placeholder="Email" required>
                </div>

                <div class="form-group">
                    <label for="idline">ID Line</label>
                    <input type="text" id="idline" name="entry.67977152" placeholder="ID Line" required>
                </div>

                <div class="form-group">
                    <label for="instansi">Instansi</label>
                    <input type="text" id="instansi" name="entry.1213700855" placeholder="Instansi" required>
                </div>

                <div class="form-group">
                    <label for="jurusan">Jurusan</label>
                    <input type="text" id="jurusan" name="entry.1984576388" placeholder="Jurusan" required>
                </div>

                <div class="form-group" id="region-group">
                    <label for="region">Region Binus</label>
                    <select id="region" name="entry.1219370935">
                        <option value="" selected disabled>Pilih Region</option>
                        <option value="Kemanggisan">Kemanggisan</option>
                        <option value="Alam Sutera">Alam Sutera</option>
                        <option value="Senayan">Senayan</option>
                        <option value="Bekasi">Bekasi</option>
                        <option value="Bandung">Bandung</option>
                        <option value="Malang">Malang</option>
                        <option value="Semarang">Semarang</option>
                    </select>
                </div>

                <div class="toggle-buttons">
                    <div class="radio-option">
                        <input type="radio" id="online" name="entry.838321128" value="Online" checked>
                        <label for="online" class="toggle-btn active" id="online-btn">Online</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="onsite" name="entry.838321128" value="Onsite">
                        <label for="onsite" class="toggle-btn" id="onsite-btn">Onsite</label>
                    </div>
                </div>

                <button type="submit" class="submit-btn">Submit</button>
            </form>

            <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
        </div>

    <!-- footer -->
    <div class="bigfoot">
        <img class="mountain" src="/Assets/Pics/mountain1.svg" alt="">
        <div class="footer">
            <div class="footer-left">
                <img src="/Assets/Pics/LogoTechfest.png" alt="">
                <h3>@2025 TECHFEST - HIMTI BINUS</h3>
            </div>
            <div class="footer-right">
                <div class="top-footer">
                    <img class="binus-icon" src="/Assets/Pics/BINUS University White 1 1.svg" alt="">
                    <img class="himti-icon" src="/Assets/Pics/logo himti 1.svg" alt="">
                </div>
                <div class="bottom-footer">
                    <div class="footer-link">
                        <a href="/faq.html">FAQ</a>
                        <a href="/aboutus.html">ABOUT</a>
                    </div>
                    <div class="footer-icon">
                        <a class="media-icon" target="_blank" href=""><img src="/Assets/Pics/LINE.svg" alt=""></a>
                        <a class="media-icon" target="_blank" href="https://www.instagram.com/techfest.himti?igsh=cGtxb2dhbzF4ZDBv"><img src="/Assets/Pics/Instagram.svg" alt=""></a>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>

    <style>
        .form-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 25px 40px;
            border-radius: 20px;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: fadeIn 0.3s ease-in-out;
            border: 2px solid #442925;
        }

        .form-message {
            background: linear-gradient(180deg, rgba(253, 209, 124, 1.0) 0%, rgba(247, 181, 54, 1.0) 100%);
            color: #442925;
        }

        .form-message.error {
            background: linear-gradient(180deg, rgba(253, 209, 124, 0.9) 0%, rgba(247, 181, 54, 0.9) 100%);
            color: #721c24;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
    </style>

    <div class="overlay" id="overlay">
        <div id="form-message" class="form-message" style="display: none;"></div>
    </div>

    <script>
        function showMessage(message, type) {
            const messageDiv = document.getElementById('form-message');
            const overlay = document.getElementById('overlay');
            
            messageDiv.textContent = message;
            messageDiv.className = 'form-message ' + type;
            messageDiv.style.display = 'block';
            overlay.style.display = 'block';

            // Auto hide after 3 seconds
            setTimeout(() => {
                messageDiv.style.display = 'none';
                overlay.style.display = 'none';
            }, 3000);
        }

        function submitToGoogleForm(form) {
            // Get all form data
            const formData = new FormData(form);
            
            // Create URL parameters
            const params = new URLSearchParams();
            for (let [key, value] of formData.entries()) {
                if (value) { // Only append non-empty values
                    params.append(key, value);
                }
            }
            
            // Submit to Google Form
            const formUrl = form.action;
            const submissionUrl = formUrl + '?' + params.toString();
            
            // Submit the form
            form.submit();
            
            // Show success message
            showMessage('Registration submitted successfully!', 'success');
            
            // Reset form after successful submission
            setTimeout(() => {
                form.reset();
                // Reset the toggle buttons
                binusianBtn.classList.add('active');
                nonBinusianBtn.classList.remove('active');
                binusianRadio.checked = true;
                regionGroup.style.display = 'block';
                regionSelect.required = true;
            }, 2000);

            return false;
        }

        // Handle iframe load event
        document.getElementById('hidden_iframe').onload = function() {
            // Check if the submission was successful
            if (this.contentWindow.location.href.includes('formResponse')) {
                showMessage('Registration submitted successfully!', 'success');
                
                // Reset form after successful submission
                const form = document.getElementById('registration-form');
                form.reset();
                // Reset the toggle buttons
                binusianBtn.classList.add('active');
                nonBinusianBtn.classList.remove('active');
                binusianRadio.checked = true;
                regionGroup.style.display = 'block';
                regionSelect.required = true;
            } else {
                showMessage('There was an error submitting the form. Please try again.', 'error');
            }
        };

        const binusianBtn = document.getElementById('binusian-btn');
        const nonBinusianBtn = document.getElementById('non-binusian-btn');
        const binusianRadio = document.getElementById('binusian');
        const nonBinusianRadio = document.getElementById('non-binusian');
        const onlineBtn = document.getElementById('online-btn');
        const onsiteBtn = document.getElementById('onsite-btn');
        const onlineRadio = document.getElementById('online');
        const onsiteRadio = document.getElementById('onsite');
        const regionGroup = document.getElementById('region-group');
        const regionSelect = document.getElementById('region');

        // Add form submit event listener
        document.getElementById('registration-form').addEventListener('submit', function(e) {
            e.preventDefault();
            submitToGoogleForm(this);
        });

        binusianBtn.addEventListener('click', () => {
            binusianBtn.classList.add('active');
            nonBinusianBtn.classList.remove('active');
            binusianRadio.checked = true;
            regionGroup.style.display = 'block';
            regionSelect.required = true;
        });

        nonBinusianBtn.addEventListener('click', () => {
            nonBinusianBtn.classList.add('active');
            binusianBtn.classList.remove('active');
            nonBinusianRadio.checked = true;
            regionGroup.style.display = 'none';
            regionSelect.required = false;
            regionSelect.value = '';
        });

        onlineBtn.addEventListener('click', () => {
            onlineBtn.classList.add('active');
            onsiteBtn.classList.remove('active');
            onlineRadio.checked = true;
        });

        onsiteBtn.addEventListener('click', () => {
            onsiteBtn.classList.add('active');
            onlineBtn.classList.remove('active');
            onsiteRadio.checked = true;
        });

        // Add some interactive hover effects
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('focus', () => {
                input.style.transform = 'scale(1.02)';
            });
            
            input.addEventListener('blur', () => {
                input.style.transform = 'scale(1)';
            });
        });
    </script>

    <script src="/script.js"></script>
</body>
</html>